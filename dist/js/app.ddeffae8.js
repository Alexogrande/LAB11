(function(t){function e(e){for(var n,o,c=e[0],i=e[1],u=e[2],d=0,p=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,c=1;c<r.length;c++){var i=r[c];0!==s[i]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/~a71373/LAB11/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=i;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"03f8":function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("footer",{staticClass:"bg-dark text-center-lg-start fixed-bottom",staticStyle:{height:"50px"}},[r("div",{staticClass:"text-center p-3",staticStyle:{color:"white"}},[t._v(" © 2022: Alexandre Pires")])])])}]},"29e0":function(t,e,r){"use strict";r("89ca")},"2c0d":function(t,e,r){t.exports=r.p+"img/barra.354bbed9.png"},"2d14":function(t,e,r){"use strict";r("2f9d")},"2e93":function(t,e){},"2f9d":function(t,e,r){},"39cc":function(t,e,r){},"48b4":function(t,e,r){t.exports=r.p+"img/corda.bff8641d.png"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],o=r("2877"),c={},i=Object(o["a"])(c,s,a,!1,null,null,null),u=i.exports,l=r("8c4f"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg"},[r("Header"),r("div",{staticClass:"texto"},[r("h1",{staticClass:"title",staticStyle:{color:"rgb(180, 0, 0)"}},[t._v("WELCOME TO GYMSTORE")]),r("h1",{staticClass:"descricao1",staticStyle:{color:"white"}},[t._v("Here you can by any product")]),r("h1",{staticClass:"descricao2",staticStyle:{color:"white"}},[t._v("to ")]),r("h1",{staticClass:"descricao3",staticStyle:{color:"white"}},[t._v("elevate your performance")]),r("div",[r("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[r("router-link",{staticStyle:{color:"white"},attrs:{to:"/products"}},[t._v(" Produts")])],1)])]),r("Footer")],1)},p=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-sn navbar-dark bg-dark"},[n("img",{staticClass:"img",attrs:{src:r("eb09"),alt:"Logo",height:"40px"}}),n("router-link",{staticClass:"navbar-brand",attrs:{href:"#",to:"/"}},[t._v("Home")]),n("router-link",{staticClass:"car text-white",attrs:{to:"/basket"}},[n("svg",{staticClass:"bi bi-cart2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",fill:"currentColor",viewBox:"0 0 16 16"}},[n("path",{attrs:{d:"M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"}})])]),n("div",{staticClass:"dropdown"},[n("button",{staticClass:"btn btn-danger dropdown-toggle",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggle()}}},[t._v("Options "),n("span",{staticClass:"caret"})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"dropdown-menu",staticStyle:{"background-color":"rgb(255, 180, 180)"}},[n("li",[n("router-link",{staticStyle:{color:"white"},attrs:{href:"#",to:"/login"}},[t._v("Login")])],1),n("li",[n("router-link",{staticStyle:{color:"white"},attrs:{href:"#",to:"/register"}},[t._v("register")])],1),n("li",[n("router-link",{staticStyle:{color:"white"},attrs:{href:"#",to:"/myorders"}},[t._v("my orders")])],1)])])],1)},f=[],g=(r("b0c0"),{data:function(){var t=this.$store.getters["user/getUser"],e=void 0!=t.id;return{isOpen:!1,userLoggedIn:e,user:{id:t.id,name:t.name,email:"",session_id:""}}},methods:{toggle:function(){this.isOpen=!this.isOpen}}}),h=g,v=(r("cbc3"),Object(o["a"])(h,m,f,!1,null,"0abfccbc",null)),b=v.exports,w=r("fd2d"),x={components:{Header:b,Footer:w["default"]}},_=x,C=(r("c4d7"),Object(o["a"])(_,d,p,!1,null,"11e748fc",null)),y=C.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Header"),r("Footer")],1)},k=[],$={showModal:!0,components:{Footer:w["default"],Header:b},data:function(){return{products:[]}},mounted:function(){},methods:{},computed:{}},j=$,E=Object(o["a"])(j,O,k,!1,null,"4c5ca6bf",null),P=E.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg"},[n("Header"),n("div",{staticClass:"container1"},t._l(t.products,(function(e){return n("tr",{key:e.id},[null!==e?n("div",{staticClass:"card"},[n("img",{staticClass:"img",staticStyle:{width:"200px"},attrs:{src:r("7584")("./"+e.image),alt:"logo"}}),n("p",{staticClass:"title"},[t._v(t._s(e.name))]),n("p",{staticClass:"price"},[t._v("cost "+t._s(e.price)+"€")]),n("button",{staticClass:"btnremove",attrs:{type:"submit"},on:{click:function(r){return t.removeToCart(e.id)}}},[t._v("remove")])]):t._e()])})),0),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[n("router-link",{staticStyle:{color:"white"},attrs:{to:"/products"}},[t._v(" add Produts")])],1),n("button",{staticClass:"btnremove",attrs:{id:"bt1",type:"remove"},on:{submit:function(e){return e.preventDefault(),t.removeToCart()}}},[t._v("remove all")]),n("Footer")],1)},S=[],U=r("1da1"),H=(r("d3b7"),r("25f0"),r("96cf"),{name:"products",components:{Footer:w["default"],Header:b},data:function(){return{products:[]}},mounted:function(){},methods:{removeToCart:function(t){var e=this;return Object(U["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("this.products-1"),console.log(e.products),r.next=4,e.$store.commit("basket/decrementProduct",t);case 4:e.products=e.$store.getters["basket/getProducts"],console.log("this.products-2"),console.log(e.products);case 7:case"end":return r.stop()}}),r)})))()}},computed:{},created:function(){for(var t=this.$store.getters["basket/getProducts"],e=0;e<t.length;e++)this.products.push(this.$store.getters["products/getProduct"](t[e].id.toString())),console.log(this.products[e])}}),F=H,L=(r("e847"),Object(o["a"])(F,R,S,!1,null,"cfaedb3a",null)),A=L.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg"},[r("Header"),r("Background"),r("div",{staticClass:"container"},[r("h2",{staticClass:"center"},[t._v("Register")]),r("form",{on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"center",attrs:{for:"name"}},[t._v("Name:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"name",id:"name",placeholder:"Enter name",name:"name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"center",attrs:{for:"email"}},[t._v("Email:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Enter email",name:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"center",attrs:{for:"pwd"}},[t._v("Password:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"pwd",placeholder:"Enter password",name:"pswd"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"center",attrs:{for:"pwd"}},[t._v("Confirm password:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password",id:"cpwd",placeholder:"Confirm password",name:"pswd"},domProps:{value:t.passwordConfirmation},on:{input:function(e){e.target.composing||(t.passwordConfirmation=e.target.value)}}})]),r("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Register")])])]),r("Footer")],1)},B=[],D=(r("ac1f"),r("466d"),{components:{Footer:w["default"],Header:b},data:function(){return{user:{name:"",email:"",password:""},passwordConfirmation:"",submitting:!0,error:!0}},methods:{validate:function(){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return this.user.email.match(t)?this.user.password!==this.passwordConfirmation||this.user.password.length<6?(this.error=!0,!1):(this.error=!1,!0):(this.error=!0,!1)},register:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.validate()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$store.dispatch("user/userExists",t.user);case 4:if(r=e.sent,r){e.next=9;break}return e.next=8,t.$store.dispatch("user/addUser");case 8:t.$router.push({path:"/message/2"});case 9:case"end":return e.stop()}}),e)})))()}},computed:{},directives:{},created:function(){}}),M=D,N=(r("9ca8"),Object(o["a"])(M,T,B,!1,null,"46e0821f",null)),z=N.exports,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg"},[r("Header"),r("div",{staticClass:"container"},[r("h2",{staticClass:"center"},[t._v("Login")]),r("form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"center",attrs:{for:"email"}},[t._v("Email:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Enter email",name:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"center",attrs:{for:"pwd"}},[t._v("Password:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"pwd",placeholder:"Enter password",name:"pswd"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),t._m(0),r("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Submit")])])]),r("Footer")],1)},q=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-group form-check"},[r("label",{staticClass:"form-check-label",staticStyle:{color:"white"}},[r("input",{staticClass:"form-check-input",attrs:{type:"checkbox",name:"remember"}}),t._v(" Remember me ")])])}],G={components:{Footer:w["default"],Header:b},data:function(){return{user:{email:"",password:""},submitting:!1,error:!1}},methods:{login:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("user/loginUser",t.user);case 2:r=e.sent,r?t.$router.push({path:"/message/3"}):t.error=!0;case 4:case"end":return e.stop()}}),e)})))()}},computed:{},directives:{},created:function(){}},J=G,W=(r("693a"),Object(o["a"])(J,I,q,!1,null,"1cab0c32",null)),Y=W.exports,Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"bg"},[r("Header"),r("Footer")],1)])},Q=[],K={components:{Footer:w["default"],Header:b},data:function(){return{isHidden:!1,id:0,orders:[]}},mounted:function(){},methods:{},computed:{}},V=K,X=(r("7e2e"),Object(o["a"])(V,Z,Q,!1,null,"26b82de5",null)),tt=X.exports,et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg"},[r("div",{staticClass:"cenas"},[r("h1",{staticClass:"message"},[t._v(t._s(t.message))])])])},rt=[],nt={data:function(){return{message:""}},mounted:function(){this.setMessage()},methods:{setMessage:function(){var t=this;1==this.$route.params.id&&(this.message="Item remove!!"),2==this.$route.params.id&&(this.message="Welcome! You can now login"),3==this.$route.params.id&&(this.message="Welcome back "+this.$store.getters["user/getUser"].name+"!"),5==this.$route.params.id&&(this.message="Your product was add to the cart!"),6==this.$route.params.id&&(this.message="you have to login!!"),7==this.$route.params.id&&(this.message="Thank you see you next time!!");var e=2,r=setInterval((function(){e<=0&&(clearInterval(r),t.$router.push("/")),e-=1}),1e3)}}},st=nt,at=(r("2d14"),Object(o["a"])(st,et,rt,!1,null,"1db04a15",null)),ot=at.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg"},[n("Header"),n("div",{staticClass:"contflex"},t._l(t.products,(function(e){return n("tr",{key:e.id},[n("div",{staticClass:"card"},[n("img",{staticClass:"img",staticStyle:{width:"100%"},attrs:{src:r("7584")("./"+e.image),alt:"Avatar"}}),n("div",{staticClass:"container"},[n("h4",[n("b",[t._v(t._s(e.name))])]),n("p",[t._v(t._s(e.description)+". ")]),n("p",[t._v("The cost is "+t._s(e.price)+"€")]),t._m(0,!0),n("form",{on:{submit:function(r){return r.preventDefault(),t.addToCart(e.id)}}},[n("button",{staticClass:"btn btn-danger ",attrs:{type:"submit"}},[t._v("Add to cart ")])])])])])})),0),n("Footer")],1)},it=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"class-flex"},[r("div",{staticClass:"input-group"},[r("div",{staticClass:"input-group-prepend"},[r("span",{staticClass:"input-group-text"},[t._v("Quantity")])]),r("input",{staticClass:"form-control",attrs:{type:"number"}})])])}],ut={name:"products",components:{Footer:w["default"],Header:b},data:function(){return{products:[],userLoggedIn:this.isloggedin(),text:"",error:!1}},mounted:function(){},methods:{isloggedin:function(){return console.log(this.$store.getters["user/getUser"]),console.log(this.$store.getters["user/getUser"].id),void 0!=this.$store.getters["user/getUser"].id},addToCart:function(t){var e=this;return Object(U["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.userLoggedIn?(console.log(e.$store.getters["user/getUser"]),n=e.$store.commit("basket/incrementProduct",t),n&&(console.log(t),e.$router.push({path:"/message/5"}))):e.$router.push({path:"/message/6"});case 1:case"end":return r.stop()}}),r)})))()}},computed:{},created:function(){var t=Object(U["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("products/getProductsFromDB");case 2:e=t.sent,e&&(this.products=this.$store.getters["products/getProducts"],console.log(this.products));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},lt=ut,dt=(r("add3"),Object(o["a"])(lt,ct,it,!1,null,"7e9552f5",null)),pt=dt.exports;n["a"].use(l["a"]);var mt=[{path:"/",component:y},{path:"/menu",component:P},{path:"/basket",component:A},{path:"/register",component:z},{path:"/login",component:Y},{path:"/myorders",component:tt},{path:"/message/:id",component:ot},{path:"/products",component:pt}],ft=new l["a"]({mode:"history",base:"/~a71373/LAB11/dist/",routes:mt}),gt=ft,ht=r("2f62"),vt=(r("c740"),{namespaced:!0,state:{products:[]},getters:{getProducts:function(t){return t.products},getProduct:function(t){return function(e){var r=t.products.findIndex((function(t){return t.id==e}));return t.products[r]}}},mutations:{addProducts:function(t,e){t.products=e}},actions:{getProductsFromDB:function(t){return Object(U["a"])(regeneratorRuntime.mark((function e(){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,fetch("http://daw.deei.fct.ualg.pt/~a71373/LAB11/api/products.php");case 4:return n=e.sent,e.next=7,n.json();case 7:return s=e.sent,r("addProducts",s),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e["catch"](1),console.log("error: ",e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()}},modules:{}}),bt=vt,wt={namespaced:!0,state:{categories:[]},getters:{getCategories:function(t){return t.categories}},mutations:{addCategories:function(t,e){t.categories=e}},actions:{getCategoriesFromDB:function(t){return Object(U["a"])(regeneratorRuntime.mark((function e(){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,fetch("http://daw.deei.fct.ualg.pt/~a71373/LAB11/api/categories.php");case 4:return n=e.sent,e.next=7,n.json();case 7:return s=e.sent,console.log("received data:",s),r("addCategories",s),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e["catch"](1),console.log("error: ",e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))()}},modules:{}},xt=wt,_t=(r("e9c4"),r("99af"),{namespaced:!0,state:{user:{},tmp_user:{}},getters:{getUser:function(t){return t.user}},mutations:{loginUser:function(t,e){t.user=e},logoutUser:function(t){t.user={}},tmpUser:function(t,e){t.tmp_user=e}},actions:{userExists:function(t,e){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.prev=1,console.log("cona1"),r.next=5,fetch("http://daw.deei.fct.ualg.pt/~a71373/LAB11/api/users.php?email=".concat(e.email),{method:"GET"});case 5:return s=r.sent,r.next=8,s.json();case 8:if(a=r.sent,console.log("userExists",a),null===a){r.next=15;break}return alert("Email already exists"),r.abrupt("return",!0);case 15:return n("tmpUser",e),r.abrupt("return",!1);case 17:r.next=25;break;case 19:return r.prev=19,r.t0=r["catch"](1),console.log("cona2"),console.error(r.t0),alert("Error: Database connection failed in phase 1"),r.abrupt("return",!1);case 25:case"end":return r.stop()}}),r,null,[[1,19]])})))()},addUser:function(t){return Object(U["a"])(regeneratorRuntime.mark((function e(){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.state,e.prev=1,e.next=4,fetch("http://daw.deei.fct.ualg.pt/~a71373/LAB11/api/users.php",{method:"POST",body:JSON.stringify(r.tmp_user),headers:{"Content-type":"text/html; charset=UTF-8"}});case 4:return n=e.sent,e.next=7,n.json();case 7:return s=e.sent,console.log("received data:",s),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e["catch"](1),console.error(e.t0),alert("Error: Database connection failed in phase 2"),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})))()},loginUser:function(t,e){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.prev=1,r.next=4,fetch("http://daw.deei.fct.ualg.pt/~a71373/LAB11/api/users.php?email=".concat(e.email,"&password=").concat(e.password));case 4:return s=r.sent,r.next=7,s.json();case 7:if(a=r.sent,null!=a){r.next=13;break}return alert("Error: Wrong credentials"),r.abrupt("return",!1);case 13:return console.log("received data:",a),n("loginUser",a),r.abrupt("return",!0);case 16:r.next=23;break;case 18:return r.prev=18,r.t0=r["catch"](1),console.error(r.t0),alert("Error: Database connection failed"),r.abrupt("return",!1);case 23:case"end":return r.stop()}}),r,null,[[1,18]])})))()},logoutUser:function(t,e){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.prev=1,r.next=4,fetch("http://daw.deei.fct.ualg.pt/~a71373/LAB11/api/users.php?session_id=".concat(e));case 4:return s=r.sent,r.next=7,s.json();case 7:return a=r.sent,console.log("received data:",a),n("logoutUser"),r.abrupt("return",!0);case 13:return r.prev=13,r.t0=r["catch"](1),console.error(r.t0),r.abrupt("return",!1);case 17:case"end":return r.stop()}}),r,null,[[1,13]])})))()}}}),Ct=_t,yt=r("2909"),Ot={namespaced:!0,state:{orders:[]},getters:{getOrders:function(t){return t.orders}},mutations:{addOrders:function(t,e){t.orders=e},addOrder:function(t,e){t.orders=[].concat(Object(yt["a"])(t.orders),[e])}},actions:{getMyOrdersFromDB:function(t){return Object(U["a"])(regeneratorRuntime.mark((function e(){var r,n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,n=t.rootGetters,e.prev=1,e.next=4,fetch("http://daw.deei.fct.ualg.pt/~a71373/LAB11/api/orders.php?session_id=".concat(n["user/getUser"].session_id));case 4:return s=e.sent,e.next=7,s.json();case 7:a=e.sent,r("addOrders",a),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log("error: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))()},addOrder:function(t,e){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,s,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,s=t.rootGetters,r.prev=1,r.next=4,fetch("http://daw.deei.fct.ualg.pt/~a71373/LAB11/api/orders.php?session_id=".concat(s["user/getUser"].session_id),{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 4:return a=r.sent,r.next=7,a.json();case 7:return o=r.sent,console.log("received data:",o),n("addOrder",o),r.abrupt("return",!0);case 13:return r.prev=13,r.t0=r["catch"](1),console.error(r.t0),r.abrupt("return",!1);case 17:case"end":return r.stop()}}),r,null,[[1,13]])})))()}},modules:{}},kt=Ot,$t=(r("159b"),r("a434"),{namespaced:!0,state:{products:[]},getters:{getProducts:function(t){return console.log(t.products[0]),t.products}},mutations:{clearBasket:function(t){t.products=[]},incrementProduct:function(t,e){var r=t.products.some((function(t){return t.id==e}));r||t.products.push({id:e,quantity:0}),t.products.forEach((function(t){t.id==e&&t.quantity++}))},decrementProduct:function(t,e){t.products.forEach((function(r,n){r.id==e&&r.quantity>=1&&r.quantity--,0==r.quantity&&t.products.splice(n,1)}))}},actions:{},modules:{}}),jt=$t;n["a"].use(ht["a"]);var Et=new ht["a"].Store({modules:{products:bt,user:Ct,orders:kt,basket:jt,categories:xt}});n["a"].config.productionTip=!1,new n["a"]({router:gt,store:Et,render:function(t){return t(u)}}).$mount("#app")},"5b12":function(t,e,r){t.exports=r.p+"img/colete.6abb463c.png"},"5e42":function(t,e,r){},"5e8d":function(t,e,r){t.exports=r.p+"img/pegas.e711f28f.png"},"693a":function(t,e,r){"use strict";r("7321")},7321:function(t,e,r){},7385:function(t,e,r){t.exports=r.p+"img/luvas.2f766a8c.png"},7584:function(t,e,r){var n={"./back2.png":"a2d3","./barra.png":"2c0d","./colete.png":"5b12","./corda.png":"48b4","./elastico.png":"c186","./haltere.png":"ad03","./image_post_logo copy.jpg":"eb09","./img-bacground.jpg":"9fad","./img-background.png":"df50","./logo.png":"9d64","./luvas.png":"7385","./pegas.png":"5e8d","./roda.png":"ac86","./tapete.png":"f4be"};function s(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=a,t.exports=s,s.id="7584"},"7e2e":function(t,e,r){"use strict";r("a470")},"89ca":function(t,e,r){},"8a4c":function(t,e,r){},"94d4":function(t,e,r){"use strict";var n=r("2e93"),s=r.n(n);e["default"]=s.a},"9bb7":function(t,e,r){},"9ca8":function(t,e,r){"use strict";r("39cc")},"9d64":function(t,e,r){t.exports=r.p+"img/logo.82b9c7a5.png"},"9fad":function(t,e,r){t.exports=r.p+"img/img-bacground.36ee7d37.jpg"},a2d3:function(t,e,r){t.exports=r.p+"img/back2.845f2b1c.png"},a470:function(t,e,r){},ac86:function(t,e,r){t.exports=r.p+"img/roda.92375a81.png"},ad03:function(t,e,r){t.exports=r.p+"img/haltere.af73ab37.png"},add3:function(t,e,r){"use strict";r("5e42")},b742:function(t,e,r){},c186:function(t,e,r){t.exports=r.p+"img/elastico.9821cc89.png"},c4d7:function(t,e,r){"use strict";r("8a4c")},cbc3:function(t,e,r){"use strict";r("b742")},df50:function(t,e,r){t.exports=r.p+"img/img-background.ed3b8b42.png"},e847:function(t,e,r){"use strict";r("9bb7")},eb09:function(t,e,r){t.exports=r.p+"img/image_post_logo copy.d5e3457e.jpg"},f4be:function(t,e,r){t.exports=r.p+"img/tapete.530d78f3.png"},fd2d:function(t,e,r){"use strict";var n=r("03f8"),s=r("94d4"),a=(r("29e0"),r("2877")),o=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,"170fbe1a",null);e["default"]=o.exports}});
//# sourceMappingURL=app.ddeffae8.js.map